---
head.title: 'Laravel Queue with Docker - Docker PHP - Server Side Up'
description: 'Learn how to configure a Laravel Queue with Docker.'
layout: docs
title: Queue
---

## Laravel Queue with Docker
All you need to do is pass the Laravel Queue command to the container and Laravel will start the queue worker.

```sh
php artisan queue:work --tries=3
```

## Important concepts
::tip{to="https://getspin.pro/docs/services/laravel-scheduler" target="_blank"}
Want to skip the setup? [Spin Pro](https://getspin.pro/docs/services/laravel-scheduler){target="_blank"} handles Laravel schedulers on your VPS with Docker and zero-downtime deploymentsâ€”all configured for you.
::
1. It's usually best to run the queue as a separate container (but using the same image)
1. If you're using `fpm-apache` or `fpm-nginx`, might need to set the stop signal to `SIGTERM` for a graceful shutdown (see this [PR](https://github.com/serversideup/docker-php/pull/437){target="_blank"} for more details why)
1. Be sure to set the health check
1. Notice we're using the same `my/laravel-app` image for both the PHP and Queue services. This is a common practice to keep the image consistent.
1. If you need to run the queue in the same container, you might want to look into [writing your own S6 Overlay script](/docs/guide/using-s6-overlay#customizing-the-initialization-process){target="_blank"} to manage and monitor multiple processes in one container.

## Run it with Docker
::note
Notice we're calling the artisan command explicitly with the full path (`/var/www/html/artisan`). This is because we need to run the command from the context of the container.
::

#### Example & Simplified Docker Compose File
```yaml [docker-compose.yml]
services:
  php:
    image: my/laravel-app

  queue:
    image: my/laravel-app
    command: ["php", "/var/www/html/artisan", "queue:work", "--tries=3"]
    stop_signal: SIGTERM # Graceful shutdown for fpm-apache or fpm-nginx
    healthcheck:
      # This is our native healthcheck script for the queue
      test: ["CMD", "healthcheck-queue"]
      start_period: 10s
```
